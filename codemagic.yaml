# Automatically generated on 2020-06-12 UTC from https://codemagic.io/app/5ee30f0bac4999001c79b296/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  store-release:
    name: Release App to Playstore and Apple Store
    max_build_duration: 60
    environment:
      vars:
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZEVVN1M0RFSXcxSElrZE5jYlF1dWsyYXpIa194RUlBNmdXc1owUUpldGdVX1l0YjZMX1BySG5nYlJudmhUTUFuam1kS3BtaTJLSjZHcXhua2k4cnA4Y3JzOW1wVE5WOUlPckhhWmpfQkotZmFaOTJtb19xWkstbEh3Qm03bU9CR0ZYbEFob2w0SkJROWZETDN2UU81T2JtZURDUlN0VGo3LS1fZWVHa0J2TWN4Y3VuN1RQZVhyV0NWNVNuUWMxRmlwV3ZVdDAzNWU3VkxxYWI4R3luZFdXOUkzdGtrb1RWd3lvbUxIc2l1YVpKYlhXV2NPb09CMGJiNmlHQ1pKRkpLN2xZM2gzcTAyY3VkR21vTlhMMjRfMjJhbzFBOWZpc2dwUnFVTEdvN2NjQVQtVEMyaS1EZHZTbjVzMUg0eUVDcFQxY0JCMzVVR1hWMVJKN1hCbWg4U3hzXzBoNlgyQUNXWmdBTW1YSVdGMHRMUTNybDZRRl9zM2Z3b0M2YlZub1VkMmJMLWo1bkJXdU02eHlrRHYycGpNWDRVSzIxMFZLOVdvT2w0bFhhQ0VidzRESjFOZzFVNVZ5UUtVTnpCRU9seUZObnhHZ0x4cFA0TUlzRDJxZlEtZ0t4bXo4RlVId05xNExCZVZwdDNnbXoxT0xPdUlPa2lySkZtaF90bEJWUGVjYmVkb25rWHN5cHJMQVJhNkFlRmppMnlUS0RWMUlkbkhjSnp5N1FBZHdiMmtUME1XYmNjSmtVMzVZR3VTWFIwS2NpbG5zNnZuMURRWVRxbUkycTFidzBrenFieGc1aTFwVXdoeXpuTlVqQ21Jay00dXB5dmFpUDl3emRjNGJZNDVhRXZ6WHJuNmRGd2UwS0tKZ0RQTnd4VlpPWnozeXROeVVRR2hEMXVMa3NWNzFNelBQMVJYTENTNG9ObVpQOW9ZTmphOHhwMEdzTGw4TnhmdENHQkhsS3VuT051MkI2Z1NCbTJFTmVFMHpVZTQtN2JfMnVGakktdkQzOGJ3cHJ2WnlXaEp4WmJSNkE2N2dSenRIZDd3MHltbkhRYUZSaFZyZFFJY0FuZ21ELUh0eGtsTlZfR0tvOE92TjJvQzVPWDBqTGdYaWoyVzRyUUs1YWNEcHpuSG9WZjZmNkJqN3NQQUtFSkx4dEhHYnBqRWdLZ3ZYR2htcEJxUlRicngyUUNES3dzUWhzSEE0U3Q3X0RSWUk1Qkl0YlpoVE0wNGNIN3pPV1hsTVBYQkdURUh0NHhvekdaRFVheDhRWFVxODhwTkFMN1NYd2FHTmNiOGN5YXE5R21ST3BrbktVZ0NLbDFOUXhZcUN3M3JwZTJiUUxSZmxLaFVXT2JxZ25fR2xHdGppZnB3bWRERnAzQS1jZ3ktN25TMTktVW1nTXltSVgtaUFFRkNYRW1OWklkNFpuSXlsS04tWXN4d3g2ajdiUFBRR0ZxcXVFSnZFcXNUNUtOcVAwc0ktSjNuZzVnSFlHaVlnakgzMFV5R2hBQ0ZXTUJHekxqRzdzRGdydXd2N3FZVmdnUVhuUVpHMFI1dVd0elJYZVpSY29td1Y0TXZvdEtGMklGUkE5NnpzSzlnZWdSN0ZueFpzbjAycWNWU0tqbUJ4SDJiWFFqWF91My15Z05pZGNKdGhOWmcyZmVFWFBNOUc4cTFDTk56b3lCODlqbzJCMS1HV2x4ZUVnWDMtbThsUEJvc1FGWXFUTk5EekMtdE9kbkJLWXlicU9TMGk3Zzd5WVJOV0wydWRoTzdQb3ptTGJoWHpMXzhsSW1aQmV2amtwV05UeGJmTWZXZ1JUc1VkR1ctT1JSUzczTGpnU2JaMWJJNWsxVVp0bHc0ZmFKUTlWZDJtdVRPZ1RJNGhtel8zUXlieG1zXzJ6eUtjWnhIaUZsZzlrdFk0bWsydmU2a0FNU1l2WUF3X0FNR1hkdnFSc2ZLSllUb1BoVUFOYXNhX3ZpRG9zdm43ejY0QTNRTHNmRG1fMkQ0bk1obVQwOUZXdUNEVy1rUGhhdHlQSk51VkJnY0FqZ0YxTFZXWTdOUy14bUdJanlhbVExeWtEdmZMOWhackZ1TVV6NFFkdU1mSUlBQ3ZXNE9xUS1QS0Q5NDRUbE5tTWFfWWEyMW54U3VnN3VtM0RPN1pIaHJ5UnRlSG5KWjBHUWFwSG42SEdUYjY2bmd6WEtyOHg4ZU1wa1phTldEWnR2TGI4WXVJdFlxQ1drMFhOOTFPQ09PQ2hBOFdZZzBhOGRnbEU5M0lROU11SU5pZ0FZZExoZ2JLcTE3Z0hUOUwyMkIwLXc0aUZCMzI2cHNHX1JWLUZNV0ptUnUxZ1djcEFHTnVLeFdYakJQeEl4THo1WXQ1U2o2Tnh4eF9wazNoY1YzZUtPWVZHYjY3WUhmSjN1TnhxODFGVElYbHJQbG9EcWN3TnhSV0s5dDhIenp3VU1QV05pd0N5VUt4ZWdCa1FUVzV0d09peTlGdzlYUHVZRkhtckxFbktDMkw2dkYteTZ3a20yS2pUckhTbV92VnlQd3g2S0trMTUxNEpma2FpT1NxRl8ycURGZ3d6THhpVUxPaFQySDE2LUxyb3FVVHVUYVR6VjBRaTVkekpJWkdxY3RFSXNlR1ZRX2E2WHlvS1FmRFZPSnNvOW90U1lTQUs4X2gwcjdFSXZJdkpaRzJDZjEtUkpSakpnRkpXM3B3RzhlYkJ4SFFTSnBnUGsxaVQtQVZrVm5SU3dDUXF2MFFfb3Y4S3dPQUpJQlNESndYRmJtblBNSDQ0OXpqeTFyQmtGdjJMR01BbVQ3YTNVUkZtaXVyRGRHSmFybmxMTW9zQk1McWFZeHhjR1VEUzM4aGJ6bXpTMGVTRG5GR29hcElSRzNBU0JtZ1VIR3RkUmlLenUyMTNIcVNtY3FoSkpsZTlTbm84Y2VBQjNJdlFSVUQ1RkZ0Rlg4WWNJLU92dGR0dkgzR1A2WThDWXM3MmRkMGJXNENkU0NIamN5aS1QQVpkSmtvOE9LV2ZnRDEzYXZYZ3JrZzgwLWRLYkVLWm94aEhITFlJVXdQaXRRcXloMEM4a0tqQjdmeTFJeFhk)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmZEVVN1d055aXVRRi1wUFpoeXVid2lfTVpzLVNFcm44OVl2eHUwRWpiSFk4c1RfcXFxYkV1VUYzVV9vWUE4ZzBEWktBZFVqVXluLTU1a3oxYUM2SXBkd2VuRU1sSmNfV192aElkc1QzWGFoUFZCSnVfX0dlcHdiUGl3RU9oaldoSVV1MmM=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmZEVVN1ZnZxSVhNSGpOeVhmMUFLSkYtdnFfSURNVWhidVQ0WGZ1VDJEYVk4Q09ReGNrUGE4Z3pkN3VRRURCRXJPWGU2Uml5Vk1rSmNockZUNzltNWg4bFNMZEE9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmZEVVN1dzQtOWFRUlZfNzRLVVhJOERBcVRscE1nSFp3UmptR0FBS09uQmJsbWFHT1RyQnBlRjMtdUxSR3JmUU03eVZRaG9tR2Jld09DSjh3alJSMjlvM2RjSnhwVWlKZWRGWjMwanBpQ3VVNmNGRkgxSTVDRm1YNkJhMG03QjNyamxvRFdncmdHRlI2X0hYQ1ozcFEwUkFXVEdlNUt0YnRKckhyb3ZfSW9HdHJPRnhqbS10enZFODJDM25fd3Z4SWVleU11UE5iMDNrdEJFdm83WjhWWl9ERTdFa3NhSVU0ZUNRRm5ZYnRPaU9fb3BEY3U0Tk5ZalpkQkdxWjhWSV9RZkltaUJaaWZXR25nZllwRG1IaGFnRFlwOFBEcndsMmxPMEJrMFVWNW5pc3RscHF3TzlVTTJuUEgxSGprZ1RZT1MyRkJ1R3dtdVlXa0FyOXBCMkZxc0YxUHhqVllmSHdrQ2x3M0s2eXl1Mk4yNmJGc2VOdzhEZTFEd0ZKT0VlS1ZkaXhxWFZpLU1ERFZ6S1ljbVN0Y29SSTQ2MVVyMkl2b2UybXotZ19NTmZ2NXlIND0=)
      flutter: v1.14.6
      xcode: latest
      cocoapods: 1.8.4
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: release
          include: true
          source: true
    scripts:
      - flutter packages pub get
      - flutter build appbundle --target-platform android-arm,android-arm64,android-x64
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "com.grocery.userapp" --type IOS_APP_STORE
        --create
      - keychain add-certificates
      - flutter build ios --release --no-codesign
      - xcode-project use-profiles
      - xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme "Runner"
    artifacts:
      - build/**/outputs/**/*.apk
      - build/**/outputs/**/*.aab
      - build/**/outputs/**/mapping.txt
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - pietechsolution@gmail.com
          - 'kakadiyasandip4world@gmail.com '
          - 'chandra@pietechsolution.com '
          - 'ujjwal.2518@gmail.com '
      app_store_connect:
        app_id: '1514911695'
        apple_id: pietechsolution@gmail.com
        password: Encrypted(Z0FBQUFBQmZEVVN1QmFxX2pJREF4QWxBWldtUW0wb3BwMDhlb25UZE5uZk55THdndUlBeXNLcHhvaVZLYnhIWGdzQktnNkkta2hTR2N3bVdUUkpncVYxRWxrUlFyb0JLaFp5MVc1clBGbnBHZGtXb3VHSjY4Qk09)
      google_play:
        credentials: Encrypted(Z0FBQUFBQmZEVVN1RHMzcHVoZmZ2TzgzUUtsUy1vcmloLWFoTWRaSTFmNEN6amo0ZVIwelhtS2tzbHYxc01VVk5lVDB4OGFJVkk0YlZvUnNkdElsR1k4Nms4UHhta3R0VnNrR0ZiVDIzS0ctdlJlLUFodkJKN1h1cVczNmJTWFRNVHRyQnpSanM1bVcyMnZ2cEhLMmhRMmhGd0xVOHgxWk1lSWlCLUdkWWtacTIzTkFCclpKajZQaEdaU0RyaGY5Yno0Qllxc1Nab2lkaThhU1dqUTJld1dzTEJVUmZWTE10QjdFcm1neDNZUXBMVFhGeFlUQU5RZkdpc1d0MmZOQlBrWUh6b3gtRVU1aUU4TDBZUFlqQmdJRzZjX3lrWjRhWUJGeVJCaEJ6dXAzdEt3YjE1Y01lSUUtWG82LXpfLURfRy11MUNnZTFxMEUtTmZmVzM0R1RFTlFrX25DalZ1WlEyaVJlNGxFSFZyMW1xcHdnbGk1Ulk1VHk5NW5scnVKem9hc05ZSFpHTW12Vy1tRklud2pQUi1yaTZBWmlIVi1BZ04wYkpiUDN1TXV6bzlSNzZ6Mk92dS1HWlRZUTZUeXNOWkxIWTZGLW96d0JIejV1Y183RE1BeEotTkdxMTFmWE5sd255ampaSVE3MUptazIwc3RFTkVIUlJzelhiSFhFbXJVbWpJdmhjU1VqNVNFYkQwS0NGNWhoNTJlYm1Ta3FYNlJNWl9BY1RlT0c1NGpJbjlsUlhQRER1QkNQSHBMUWo1ck4xS0xYcnk1WDc0TnlvY0E5NTh2anJuWlpTaFEyUHNHUDUwZWluR21LTHBqdjdTY2tMWGZJdE8tLUNjMTBWR2FuZjBFekU2UmFoSGlGUDBqVUNMNkw3enJxZHgzQ3VuVS15aXpmM09vdUV2eWo4YnRnYWZuYk5KUDFWeXpvVUtrY3NHZlQ2ZzRmU29hNHlLbXM1SXhYWVV3MUd2bmR2T05CQ0RGMGg1NTcyU1BpelRPVWZrRkJVeDYtbE13SDFFMU0xck80MVN1c2NKN0h6a2ZSbFFXa1pXUWhCT3JVSU1xOVp1TzBTd1lYOC1oSjhVaW5PT2h0N2hKTnNSZ1JKeTl2ZVVXT0FhU2JHYnZXQ3JDdkhxRjR6bEdBNUpuaktVYTRuVDhVNEdsU1JsNmJGNTJVMHJGR2xPa29fZzBtVGNzOVRwWUFVUFhkcFZpc2hXWnRzaHF0b1ZDbHpVVV9VbzhWYVhtN09QeGZ4c2xsNnNXYmtENWdyNEx5ZENGTk9OVTlDN2oyWHRYUGVRY05MVTdxU2xBSUtIbVRTSE0zdDlMc3NOV0FaTFEzbGs4Vlh2TkpvLU1pSGVuVWFURmZxZ1p4OUY4UHRiSjFvbjZNU2FzcjduZ0tuMVZXZW5ScUhxc0JIX3laS2dyeGtDRl9kZUpvWWVrVERPVXFoRU8zamgzeGVBZUNrcWNGMGh0RzNUZ3J5a2stZzd2Ulk5Yk0xM3JFRm90NU5MY2VzSV94OXBaQVJqWmhsU1NLR1JaRE9UbmtGUkhLWV8tNkpPcGRJd3FoQy14X1V0Q28wMEhOZ0YwellSVFBVa09ITVdwbHlFQjhSaTFSbHQ3eVJ0Sl9hejNUOWlaSy1fSTFHWE9zV1N1YjhxZEdvNWFBeVFydms4QXNfbUh2NXJWR1dPeXFkLWlSWnVKQ1FNc2pMOTF2Y1lySXR5c2ZfUzNzWW1EUWg0bmlzdHV2SHZvX3RpbTFLOF95NGZmVVU3NUVkbVZuRjNKaFFRMERHbFBrZG8wN0N0NTdUcWNvOXdVc3VoUW1FVWxDZW9hbzVBVFhnNDE3R0t3Z0ZBT0xMN21tdTI4bTEwajlLN2ZUOWgyU3dqbDVZWlhsS1hSd3gxZ1MtUmFlMUYzUUkxV3FPUFlzamNhWU1CVTRlWlJRZzBkU3czMmlsTzFxMlk4VTQwckZCUGZwMjQ3QXlzYjltaE10UmJQMUZoREM4NFo3VTcxVXkxQkxDTk9ScHdKRVNCRE1SM0VOSUlmNGVSRGdNb1k4T2wyS2ZXNUZjbmxNcU96RnVob0pROGRaNWM2TXppbUtvTmtjeHFzRXhvM2l5Nmw3TS0xU2I5MmpKX2FQZmtxWkdrdVc5ZzhPRmtnM1lFWE9LM1dNNElkRnNkb0RRUUlCZTRKVGducThCSXpHR0JldXVmaDR6WlZfU1dsM2c0WURSaHdjS1E3enBSQ1E2dWFZVkV2R0ZYanJEWkZaVDJiaElKcjNkTkJtVk1BLWxuejlWNHA1R2NCTmxVMmpoOGlCRU5lSWhUVVY1TjhKZFB1aWd2SUpTT1hvWGg1TXQzOGVUVE1HTUpYdVJRenVFNWF6V2g4c3djMFVGTy1mNlNrcjRZTjZ6Yk45Z0dmbXR5WjV3X3dxd2tyRnY5VS1aSC1nTDVIdVFERWxPUmlOeTBjcGpvMGtzYVpobWFDQ09PRUE5UlVEMEZEa1RfWXIyYUtCSVBmYW1fd3hhUDc1N2V0NTFGU21SU19sR1dYaXdZMy1MYWZnLTctRjF0ZXhwMHMzT1h5TjZueG92SkJETzhZNlpXMGZaMzVuemVNTWpzMVR6ZTQ1TXdnbnhmc2ZrV1ZWTjhuWkZBejNER3dhZ0pzWVJSc0JteVJQZUJTNEEtOG9fUTg2OHREVWhkMVhLa1NiMTd3NklfYXhZRlZNamFiRDQzMUZweGozbUxTZnpja3VzN2NzbWJaNnUtOUNZUk1kS2stVV9KMG1jYnY5YTduaVlxbFZ2M3FPYUVKVWlOWEdmWkh2RTZFZHZIQ3NqUkN4QTV5MHF0b09xcjlvbkxQTGtaSW91NmFQRFVPczZJeFZCQ0xVdVpwSmpvVUtsd3gtSjZ4MEhCR0tQaXBJTGJwNGhsVDFRSTdMYm4yTFN5NmhnVVZtZU9oMGZ0bEJqNlpQNUp0b2dCVW1SeDlRdzFreWREOW9TcjF2THM3LWtPMGNhbE9Oa2s5WWdwX3BmVmpHczY3ZjR0TDVEZ2FNSl9aMHNfTThBTVQ0TXBudEZTWTRqOTM0MmM1b0Jtc0hFTDVvMGxFYUx4VkZwOFZzYWFxMXRYZEdLMVZrV19TMldLVkZxNE9CS3VPeUxUM0w2YnRoVkkwR2l3eVJKUG5zVDVLNkxXOENTTXBBSVFDVlQ3MXRmWW1CTTQ1VEZQQ01jd3FQaVpScjdoOENMTlpzN3RQanoxOWIxQm5TODNXZWNjSnRVMTQwUzN0V0FjVm9WcFdPLW11b3h0bEVKeDZTektETnRCOXI3YllYZElEZGhWMEpwcC1qZEtTSi1kSXRZZ1ZYVUUxZWJDdHhDLWJkZEhJWHA0R1dVRndQTVZQbUlSSDFjNGNKOEo3dVdtWml4bnYyZ0IzQm1sZ1A2QzBfdnUzYzJ3SUFoencxTmJaaHFfVjc5Xzc1a0QxOU5VS21iWWV3bXJIVW9nUDBPbDZTajhNMC1oOHI1TUdUMEQyUHRTblZoc0hQbEtSWHUwdnRzTmp5VjRGRXIxZDhBcVVaai1KZm83akRGSjZTVkRGZmZDdGZtdDVlRHZoNkNlMHFUMnZKQ21obkpFbjk3OWFITTZaRm5QZldRQVhxOS13cW44YlRzaXpidG5oemVPQjd3QnhJQzBuellqbjdFUy1sMEYzYldmOWN1TndQZ0dvaks5bXF4YWxBSS1xM2lhcmhLNkJKWE94blNHeVc4MlRobXowXzVTQVVUOWJxd1VicWlya05BZTVLWXR3NWFubTJ5MzQ0alRNOS1JYkZuNEt0bFMyRUNGR2lqZFNKWlJLeXNnV19yTXhnS0psUkZwSXBxVEpPVVFYOGR2eUFnX21ndEtHYkw4ck5zQ2VTRFBqVVQtOGpyd1gweTJpbXp3XzB1UGp0c29QM3o0U3o2dUlYYXQwOFR1OF94d2x2U1U4eGRiaVg4TmxrbXFBRmZ0SGM5NkVNazBTZlNvaWlITEdvQ2JMeW12ajNXZWtmYlNrLU5LWDBrdUNrbVNPekF5Y1FXbzMzVDMzTjlBNno4Sk4xamxsWmItQjJ2elBlMVJpZWtXdFVmQjlZSk9iNDNoYmFTS3FHZ1BPakx3NW8tYkZQRHZsTUVEdzRVSndxaUxkZVl0WjA3S21HeEFhNDJlMHFGSUlfSWUxTXFCTExXZ01WaTJ5MHd2MlBQZl83V0tRVTRtRjNESXNUdnBVRlFMUHhYREpPclB3UkFnOUwwVjdHYWhxSWMza09oVzNPYWM0VGhwcVozcVZyQTJfbXVENEZwUWMxd0NRSXVwaTZVdk16OElrenN2R2hBPT0=)
        track: production

     
  testing-apk:
    name: Send Test Apk to given mails
    max_build_duration: 60
    environment:
      flutter: v1.14.6
      xcode: latest
      cocoapods: 1.8.4
    cache:
      cache_paths: []
    triggering:
      events:
        - push
      branch_patterns:
        - pattern: master
          include: true
          source: true
    scripts:
      - flutter packages pub get
      - flutter build apk --release
    artifacts:
      - build/**/outputs/**/app-release.apk
      - build/**/outputs/**/mapping.txt
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - pietechsolution@gmail.com
          - 'kakadiyasandip4world@gmail.com '
          - 'chandra@pietechsolution.com '
          - 'ujjwal.2518@gmail.com '
